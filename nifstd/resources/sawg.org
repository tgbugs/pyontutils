#+TITLE: SPARC Anatomy Working Group
#+HTML_HEAD: <meta name="version" content="0.0.1" />
#+OPTIONS: num:nil html-preamble:t H:2
#+SETUPFILE: theme-readtheorg-local.setup
# [[./sawg.html][local development]]
# [[http://ontology.olympiangods.org/trees/sparc][testing]]
# [[http://ontology.neuinfo.org/trees/sparc][production]]

* Developer notes                                                 :noexport:
  This is a self publishing document!
  TODO import code from thesis.org to automate publishing.
  
** Publishing
   Tangle both blocks here =C-c C-v C-t= (=t= also works) and then you
   can publish this document by running =../bin/publish-sawg= with
   =AUX_RESOLVER_HOST= set in your environment (.e.g via =~/.bashrc=).
   #+NAME: publish
   #+BEGIN_SRC emacs-lisp :eval never :tangle ../bin/publish.el :comments noweb
     (require 'ox-publish)
     (setq org-publish-project-alist
           `(("SPARC-anatomy"
              :components ("page"))
             ("page"
              :base-directory "../resources"
              :base-extension "org"
              :exclude ".*"
              :include ("sawg.org")
              :publishing-directory
              ,(let ((host (getenv "AUX_RESOLVER_HOST")))
                (format "/ssh:%s|sudo:nginx@%s:/var/www/ontology/trees/sparc/" (getenv "AUX_RESOLVER_HOST") (getenv "AUX_RESOLVER_HOST")))
              :publishing-function org-html-publish-to-html)
             ))
   #+END_SRC

   #+NAME: post-commit
   #+BEGIN_SRC bash :eval never :tangle ../bin/publish-sawg :tangle-mode (identity #o755)
     #!/usr/bin/env sh
     # this runs in the root of the git repository so we are ok
     SOURCE="${BASH_SOURCE[0]}"
     while [ -h "$SOURCE" ]; do # resolve all symlinks
     DIR="$( cd -P "$( dirname "$SOURCE" )" && pwd )"
     SOURCE="$(readlink "$SOURCE")"
     [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE" # resolve relative symlinks
     done
     ABS_PATH="$( cd -P "$( dirname "$SOURCE" )" && pwd )"

     /usr/bin/emacs -Q --batch \
         -l "${ABS_PATH}/publish.el" \
         ../resources/sawg.org \
         --funcall org-publish-all
   #+END_SRC

* Overview
* Terminology
  | region | tabular      | tree        | raw |
  |--------+--------------+-------------+-----|
  | brain  | google sheet | trees/query | ttl |
** Terminology review
   If you are here to provide expert review of terminology for SPARC
   here is a table!
* Connectivity
* Expertise
